<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Socket Multiplayer Game</title>
    <meta name="viewport" content="width=device-width, initial-width=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous" />

    <style>
      #gameScreen {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="vh-100">
      <div class="container h-100">

        <div id="initialScreen" class="h-100">
          <div class="d-flex flex-column align-items-center h-50 justify-content-center">
            <h1 class="display-4 mb-5">
              Multiplayer Snake Game
            </h1>
            <button class="btn btn-outline-primary px-4 py-2" type="submit" id="newGameButton">
              Create New Game
            </button>
            <div class="m-3">OR</div>
            <div class="form-floating mb-4">
              <input type="text" class="form-control" id="gameCodeInput" 
              placeholder="Game Code" style="width: 280px;"/>
              <label for="gameCodeInput">Enter Game Code</label>
            </div>
            <button class="btn btn-secondary px-4 py-2" type="submit" id="joinGameButton">
              Join Game
            </button>
          </div>
        </div>

        <div id="gameScreen" class="h-100">
          <div class="d-flex flex-column align-items-center justify-content-center h-100">
            <h1 class="h4">Your Game Code: <span id="gameCodeDisplay"></span></h1>
            <canvas id="canvas"></canvas>
          </div>
        </div>

      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"
    integrity="sha512-MgkNs0gNdrnOM7k+0L+wgiRc5aLgl74sJQKbIWegVIMvVGPc1+gc1L2oK9Wf/D9pq58eqIJAxOonYPVE5UwUFA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      document.addEventListener('keyup', () => {
        const btn = document.getElementById('joinGameButton');
        if (document.getElementById('gameCodeInput').value.length > 0) {
          btn.classList.remove('btn-secondary');
          btn.classList.add('btn-success');
        } else {
          btn.classList.remove('btn-success');
          btn.classList.add('btn-secondary');
        }
      })
    </script>
    <script src="index.js"></script>
  </body>
</html>
